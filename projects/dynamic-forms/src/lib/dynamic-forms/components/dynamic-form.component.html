<form (ngSubmit)="onSubmit()" [formGroup]="form">
  <ng-container *ngFor="let control of controls" [ngSwitch]="control.controlType">
    <div class="form-group" *ngSwitchCase="'textbox'">
      <div class="input-group mb-2">
        <div class="input-group-prepend">
          <div class="input-group-text">
            <ion-icon [src]="svgIconBasePath + control.icon + '.svg'">></ion-icon>
          </div>
        </div>
        <input [type]="control.type" class="form-control" [formControlName]="control.name" [id]="control.name"
          [placeholder]="control.label" ngDefaultControl>
      </div>
    </div>
    <div class="form-group" *ngSwitchCase="'email'">
      <div class="input-group mb-2">
        <div class="input-group-prepend">
          <div class="input-group-text">
            <ion-icon [src]="svgIconBasePath + control.icon + '.svg'">></ion-icon>
          </div>
        </div>
        <input [type]="control.type" class="form-control" [formControlName]="control.name" [id]="control.name"
          [placeholder]="control.label" ngDefaultControl>
      </div>
    </div>
    <div class="form-group" *ngSwitchCase="'currency'">
      <div class="input-group mb-2">
        <div class="input-group-prepend">
          <div class="input-group-text">
            <ion-icon [src]="svgIconBasePath + control.icon + '.svg'">></ion-icon>
          </div>
        </div>
        <input [type]="'number'" class="form-control" [formControlName]="control.name" [id]="control.name"
          [placeholder]="control.label" ngDefaultControl>
      </div>
    </div>
    <div class="form-group" *ngSwitchCase="'date'">
      <div class="input-group mb-2">
        <div class="input-group-prepend">
          <div class="input-group-text">
            <ion-icon [src]="svgIconBasePath + control.icon + '.svg'">></ion-icon>
          </div>
        </div>
        <input [type]="'date'" class="form-control" [formControlName]="control.name" [id]="control.name"
          [placeholder]="control.label" min="2018-01-01" max="2018-12-31" ngDefaultControl>
      </div>
    </div>
    <div class="form-group" *ngSwitchCase="'time'">
      <div class="input-group mb-2">
        <div class="input-group-prepend">
          <div class="input-group-text">
            <ion-icon [src]="svgIconBasePath + control.icon + '.svg'">></ion-icon>
          </div>
        </div>
        <input [type]="'time'" class="form-control" [formControlName]="control.name" [id]="control.name"
          [placeholder]="control.label" min="09:00" max="18:00" ngDefaultControl>
      </div>
    </div>
    <div class="form-group" *ngSwitchCase="'datetime'">
      <div class="input-group mb-2">
        <div class="input-group-prepend">
          <div class="input-group-text">
            <ion-icon [src]="svgIconBasePath + control.icon + '.svg'">></ion-icon>
          </div>
        </div>
        <input [type]="'datetime-local'" class="form-control" [formControlName]="control.name" [id]="control.name"
          [placeholder]="control.label" min="2018-06-07T09:00" max="2018-06-14T18:00" ngDefaultControl>
      </div>
    </div>
    <div class="form-group" *ngSwitchCase="'textarea'">
      <div class="input-group mb-2">
        <div class="input-group-prepend">
          <div class="input-group-text">
            <ion-icon [src]="svgIconBasePath + control.icon + '.svg'">></ion-icon>
          </div>
        </div>
        <textarea class="form-control" rows [formControlName]="control.name" [id]="control.name"
          [placeholder]="control.label" ngDefaultControl></textarea>
      </div>
    </div>
    <div class="validation-errors">
      <ng-container *ngFor="let validation of control.validations">
        <div class="error-message" *ngIf="form.get(control.name)?.hasError(validation?.type) && displayErrors">
          {{ validation?.message }}
        </div>
      </ng-container>
    </div>
  </ng-container>
</form>